"use strict";(self.webpackChunkmain_app=self.webpackChunkmain_app||[]).push([[76],{4828:(x,p,o)=>{o.r(p),o.d(p,{StudentActionCellComponent:()=>j});var f=o(8834),m=o(9213),g=o(2792),d=o(9115),u=o(5351),b=o(1669),y=o(5596),C=o(5911),S=o(6697),r=o(9417),t=o(4438),h=o(8147);function v(s,E){if(1&s){const n=t.RV6();t.j41(0,"softbar-app-dynamic-form-group",4),t.bIt("formOnSubmit",function(i){t.eBV(n);const e=t.XpG();return t.Njj(e.formOnSubmit(i))})("formOnCancel",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.close())}),t.k0s()}if(2&s){const n=t.XpG();t.Y8G("hideSubmitButton","Show"===(null==n.data?null:n.data.type))("config",n.configs)("showCancelButton",!0)}}let k=(()=>{class s{constructor(n,a,i){switch(this.data=n,this.studentLocalStorageService=a,this.dialogRef=i,this.configs=[{field:"id",type:"Default",label:"Id",asyncValidation:[],errorMessages:{required:"ID is required",min:"ID must be a positive number"},data:{inputType:"number"}},{field:"name",type:"Default",label:"Name",validation:[r.k0.required,r.k0.minLength(2),r.k0.maxLength(50)],errorMessages:{required:"Name is required",minLength:"Name must be at least 2 characters",maxLength:"Name cannot exceed 50 characters"},data:{inputType:"text"}},{field:"dateJoined",type:"Default",label:"Date",validation:[r.k0.required],errorMessages:{required:"Date is required"},data:{inputType:"date"}},{field:"email",type:"Default",label:"Email",validation:[r.k0.required,r.k0.email],errorMessages:{required:"Email is required",email:"Invalid email format"},data:{inputType:"email"}},{field:"address",type:"Default",label:"Address",validation:[r.k0.required,r.k0.minLength(5),r.k0.maxLength(100)],errorMessages:{required:"Address is required",minLength:"Address must be at least 5 characters",maxLength:"Address cannot exceed 100 characters"},data:{inputType:"text"}},{field:"city",type:"Default",label:"City",validation:[r.k0.required,r.k0.minLength(2),r.k0.maxLength(50)],errorMessages:{required:"City is required",minLength:"City must be at least 2 characters",maxLength:"City cannot exceed 50 characters"},data:{inputType:"text"}},{field:"country",type:"Default",label:"Country",validation:[r.k0.required],errorMessages:{required:"Country is required"},data:{inputType:"text"}},{field:"zip",type:"Default",label:"Zip",validation:[r.k0.required,r.k0.pattern("^[0-9]{5,6}$")],errorMessages:{required:"ZIP code is required",pattern:"ZIP code must be a 5 or 6 digit number"},data:{inputType:"number"}}],this.data?.type){case"Edit":case"Show":case"Duplicate":{const{configs:e}=this;this.configs=[],this.studentLocalStorageService.get("student",{params:{id:this.data?.id}}).pipe((0,S.s)(1)).subscribe(c=>{switch(e.forEach(l=>{Object.prototype.hasOwnProperty.call(c,l.field)&&(l.value=c[l.field])}),this.data.type){case"Edit":e.find(l=>"id"===l?.field).disabled=!0,this.configs=e;break;case"Show":e.forEach(l=>l.disabled=!0),this.configs=e;break;case"Duplicate":this.configs=e.filter(l=>"id"!=l.field)}});break}case"Create":{const e=this.configs.find(c=>"id"===c?.field);e.hidden=!0,e.disabled=!0}}}formOnSubmit(n){switch(this.data.type){case"Duplicate":case"Create":case"Edit":("Edit"===this.data.type?this.studentLocalStorageService.put:this.studentLocalStorageService.post).bind(this.studentLocalStorageService)("student",n).pipe().subscribe(a=>{a&&this.close()})}}close(){return this.dialogRef.close()}static{this.\u0275fac=function(a){return new(a||s)(t.rXU(u.Vh),t.rXU(h.b),t.rXU(u.CP))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],decls:8,vars:2,consts:[[1,"header-card","!m-0"],["color","primary",1,"header-toolbar"],[1,"form-container"],[3,"hideSubmitButton","config","showCancelButton"],[3,"formOnSubmit","formOnCancel","hideSubmitButton","config","showCancelButton"]],template:function(a,i){1&a&&(t.j41(0,"mat-card",0)(1,"mat-toolbar",1)(2,"mat-icon"),t.EFF(3,"assignment"),t.k0s(),t.j41(4,"span"),t.EFF(5),t.k0s()(),t.j41(6,"div",2),t.DNE(7,v,1,3,"softbar-app-dynamic-form-group",3),t.k0s()()),2&a&&(t.R7$(5),t.JRh(null==i.data?null:i.data.type),t.R7$(2),t.vxM(null!=i.configs&&i.configs.length?7:-1))},dependencies:[u.hM,b.QC,m.An,y.RN,C.KQ],styles:[".header-card[_ngcontent-%COMP%]{padding:20px;margin-bottom:20px;box-shadow:0 4px 10px #0000001a}.header-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;font-weight:700}.header-toolbar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:10px}.form-container[_ngcontent-%COMP%]{margin-top:20px}"]})}}return s})();var F=o(3801);let j=(()=>{class s extends g.ZH{constructor(n,a,i,e){super(a),this.studentLocalStorageService=n,this.clipboard=i,this.dialog=e}onCopy(){this.studentLocalStorageService.get("student",{params:{id:Number(this.value)}}).subscribe(n=>{this.clipboard.copy(JSON.stringify(n))})}openPopUp(n){this.dialog.open(k,{data:{id:Number(this.value),type:n},width:"500px"})}onDelete(){this.studentLocalStorageService.delete("student",{body:{id:Number(this.value)}})}static{this.\u0275fac=function(a){return new(a||s)(t.rXU(h.b),t.rXU(t.gRc),t.rXU(F.B0),t.rXU(u.bZ))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["ng-component"]],features:[t.Vt3],decls:25,vars:1,consts:[["actionMenu","matMenu"],[1,"custom-mat-menu"],["mat-menu-item","",3,"click"],["mat-icon-button","",3,"matMenuTriggerFor"]],template:function(a,i){if(1&a){const e=t.RV6();t.j41(0,"mat-menu",1,0)(2,"button",2),t.bIt("click",function(){return t.eBV(e),t.Njj(i.onCopy())}),t.j41(3,"mat-icon"),t.EFF(4,"content_copy"),t.k0s(),t.EFF(5," Copy "),t.k0s(),t.j41(6,"button",2),t.bIt("click",function(){return t.eBV(e),t.Njj(i.openPopUp("Edit"))}),t.j41(7,"mat-icon"),t.EFF(8,"edit"),t.k0s(),t.EFF(9," Edit "),t.k0s(),t.j41(10,"button",2),t.bIt("click",function(){return t.eBV(e),t.Njj(i.openPopUp("Show"))}),t.j41(11,"mat-icon"),t.EFF(12,"visibility"),t.k0s(),t.EFF(13," Show "),t.k0s(),t.j41(14,"button",2),t.bIt("click",function(){return t.eBV(e),t.Njj(i.onDelete())}),t.j41(15,"mat-icon"),t.EFF(16,"delete"),t.k0s(),t.EFF(17," Remove "),t.k0s(),t.j41(18,"button",2),t.bIt("click",function(){return t.eBV(e),t.Njj(i.openPopUp("Duplicate"))}),t.j41(19,"mat-icon"),t.EFF(20,"file_copy"),t.k0s(),t.EFF(21," Duplicate "),t.k0s()(),t.j41(22,"button",3)(23,"mat-icon"),t.EFF(24,"more_vert"),t.k0s()()}if(2&a){const e=t.sdS(1);t.R7$(22),t.Y8G("matMenuTriggerFor",e)}},dependencies:[m.m_,m.An,d.Cn,d.kk,d.fb,d.Cp,f.Hl,f.iY],styles:[".mat-mdc-menu-content{background:#fff!important;border-radius:4px;box-shadow:0 4px 6px #0003}\n"],encapsulation:2})}}return s})()}}]);